(function(){function n(b){$("article").html(f.n.swap({sp:b}))}function h(b){var d={},e=[],c={},l={},g=[],m=[],h=[],p=!1;b.split(" ").forEach(function(a){a&&h.push(a)});h.forEach(function(a){k.w[a]?d[a]=k.w[a]:p=!0});if(p)return n(b),!1;$.each(d,function(a,b){var d=[];e.length?(b.forEach(function(a){-1<e.indexOf(a[0])?(d.push(a[0]),c[a[0]]+=a[1]):delete c[a[0]]}),e=d):b.forEach(function(a){e.push(a[0]);c[a[0]]=a[1]})});e.forEach(function(a){c[a]in l||(l[c[a]]=[]);l[c[a]].push(a);g.push(c[a])});g.sort();
g=$.unique(g);g.sort(function(a,b){return b-a});g.forEach(function(a){l[a].forEach(function(a){m.push(k.a[a])})});0===m.length?n(b):$("article").html(f.r.swap({sp:b})+m.join(" "));return!1}var k,f;String.prototype.swap||(String.prototype.swap=function(b){return this.replace(/\{([^{}]*)\}/g,function(d,e){var c=b[e];return"string"===typeof c||"number"===typeof c?c:d})});$(function(){f||$.getJSON("templates.json",{async:!1}).done(function(b){f=b});$("#searchform input").keypress(function(b){var d;13===
b.which&&($("article").html(f.w),d=this.value,b.preventDefault(),$(document).attr("title",f.t),k?h(d):$.getJSON("search.json",{async:!1}).done(function(b){k=b;h(d)}))})})})();
